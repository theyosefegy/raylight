(()=>{"use strict";class e{constructor(e,t){this.title=e,this.callback=t,this.element=this.createElement()}createElement(){const e=document.createElement("button");return e.classList.add("panel-btn"),e.innerHTML=this.title,e.addEventListener("click",(()=>this.callback())),e}}const t=new class{constructor(){this.container=this.createContainer(),document.body.appendChild(this.container)}createContainer(){const e=document.createElement("div");return e.classList.add("ray-panel"),e}hide(){this.container.style.display="none"}show(e,t){this.container.style.left=`${e+window.scrollX}px`,this.container.style.top=`${t+window.scrollY}px`,this.container.style.display="flex"}add(...e){const t=document.createDocumentFragment();e.forEach((e=>t.appendChild(e.element))),this.container.appendChild(t)}remove(e){this.container.removeChild(e.element)}};function n(){console.log("test")}const i=new e('<svg height="20px" viewBox="0 -960 960 960" width="20px" fill="#e3e3e3"><path d="M216-192v-96h160l124-384H336v-96h408v96H596L472-288h152v96H216Z"/></svg>',n),s=new e('<svg height="20px" viewBox="0 -960 960 960" width="20px" fill="#e3e3e3"><path d="M266-192v-576h227.95q67.05 0 123.55 41.32Q674-685.35 674-612q0 51-22.5 79.5T609-490.96Q635-479 665-448t30 91q0 91-67.03 128t-125.81 37H266Zm127-118h104.68Q546-310 556-334.5t10-35.5q0-11-10.5-35.5T494-430H393v120Zm0-232h93q33 0 48.5-17.5T550-597q0-24-17.11-39t-44.28-15H393v109Z"/></svg>',n),h=new e('<svg height="20px" viewBox="0 -960 960 960" width="20px" fill="#e3e3e3"><path d="M96-408v-72h768v72H96Zm336-144v-120H240v-96h480v96H528v120h-96Zm0 360v-144h96v144h-96Z"/></svg>',n),o=new e('<svg height="20px" viewBox="0 -960 960 960" width="20px" fill="#e3e3e3"><path d="M456-96q-29.7 0-50.85-21.15Q384-138.3 384-168v-167H264q-29.7 0-50.85-21.15Q192-377.3 192-407v-265q0-61 42-102.5T336-816h432v409q0 29.7-21.5 50.85Q725-335 696-335H576v167q0 29.7-21.5 50.85Q533-96 504-96h-48ZM264-552h432v-192h-48v144h-72v-144h-48v73h-72v-73H336q-29.7 0-50.85 20.5Q264-703 264-672v120Zm0 145h432v-73H264v73Zm0 0v-73 73Z"/></svg>',n);t.add(s,i,h,o),document.addEventListener("keydown",(e=>{if(!e.shiftKey)return;const n=window.getSelection();if(!n||(null==n?void 0:n.isCollapsed))return;const i=n.getRangeAt(0).getClientRects();if(!i.length)return;const s=n.anchorOffset<=n.focusOffset,h=s?i[i.length-1]:i[0],o=s?h.right-(parseFloat(t.container.style.width)||65)/2:h.left,l=h.top-h.height-10;t.show(o,l)})),document.addEventListener("mousedown",(e=>{t.container.contains(e.target)||t.hide()}))})();