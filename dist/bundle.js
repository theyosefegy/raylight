(()=>{"use strict";class t{constructor(t,e){this.title=t,this.callback=e,this.element=this.createElement()}createElement(){const t=document.createElement("button");return t.classList.add("panel-btn"),t.innerHTML=this.title,t.addEventListener("click",(()=>{this.callback()})),t}}const e=new class{constructor(){this.buttons=[],this.visible=!1,this.container=this.createContainer(),document.body.appendChild(this.container)}createContainer(){const t=document.createElement("div");return t.classList.add("ray-panel"),t}hide(){this.container.style.display="none"}show(t,e){this.container.style.left=`${t+window.scrollX}px`,this.container.style.top=`${e+window.scrollY}px`,this.container.style.display="flex"}add(...t){if(1===t.length)return this.buttons.push(t[0]),void this.container.appendChild(t[0].element);for(let e of t)this.buttons.push(e),this.container.appendChild(e.element)}remove(t){this.buttons=this.buttons.filter((e=>e!==t)),this.container.removeChild(t.element)}};function n(){console.log("test")}const i=new t('<svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#e3e3e3"><path d="M216-192v-96h160l124-384H336v-96h408v96H596L472-288h152v96H216Z"/></svg>',n),s=new t('<svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#e3e3e3"><path d="M266-192v-576h227.95q67.05 0 123.55 41.32Q674-685.35 674-612q0 51-22.5 79.5T609-490.96Q635-479 665-448t30 91q0 91-67.03 128t-125.81 37H266Zm127-118h104.68Q546-310 556-334.5t10-35.5q0-11-10.5-35.5T494-430H393v120Zm0-232h93q33 0 48.5-17.5T550-597q0-24-17.11-39t-44.28-15H393v109Z"/></svg>',n),h=new t('<svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#e3e3e3"><path d="M96-408v-72h768v72H96Zm336-144v-120H240v-96h480v96H528v120h-96Zm0 360v-144h96v144h-96Z"/></svg>',n),o=new t('<svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#e3e3e3"><path d="M456-96q-29.7 0-50.85-21.15Q384-138.3 384-168v-167H264q-29.7 0-50.85-21.15Q192-377.3 192-407v-265q0-61 42-102.5T336-816h432v409q0 29.7-21.5 50.85Q725-335 696-335H576v167q0 29.7-21.5 50.85Q533-96 504-96h-48ZM264-552h432v-192h-48v144h-72v-144h-48v73h-72v-73H336q-29.7 0-50.85 20.5Q264-703 264-672v120Zm0 145h432v-73H264v73Zm0 0v-73 73Z"/></svg>',n);e.add(s,i,h,o),document.addEventListener("keydown",(t=>{if(!t.shiftKey)return;const n=function(){const t=window.getSelection();if(t&&0!==t.rangeCount)return t.getRangeAt(0)}(),i=null==n?void 0:n.getClientRects()[0];i&&""!==(null==n?void 0:n.toString().trim())&&(t.target==e.container||t)&&e.show(i.left-5,i.top-35)})),document.addEventListener("mousedown",(t=>{e.container.contains(t.target)||e.hide()}))})();